<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>D Converting to Real Application Clusters from Single-Instance Oracle Databases</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="Generator" content="Oracle DARB XHTML converter - Version 4.1.3 Build 116" />
<meta name="Date" content="August 18, 2005 11:44:24" />
<meta name="doctitle" content="Oracle&reg; Database Oracle Clusterware and Oracle Real Application Clusters Installation Guide 10g Release 2 (10.2) for Microsoft Windows" />
<meta name="partno" content="B14207-01" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="rawdev.htm" title="Previous" type="text/html" />
<link rel="Next" href="apa.htm" title="Next" type="text/html" />
<link rel="alternate" href="../b14207.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Database Oracle Clusterware and Oracle Real Application Clusters Installation Guide<br />
10<i>g</i> Release 2 (10.2) for Microsoft Windows</b><br />
Part Number B14207-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" border="0" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" border="0" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" border="0" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img src="../../dcommon/gifs/index.gif" alt="Go to Index" border="0" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" border="0" /><br />
<span class="icon">Feedback</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" align="left" width="98">
<tr>
<td align="center" valign="top"><a href="rawdev.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" border="0" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="apa.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" border="0" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top"><a href="../b14207.pdf"><font size="-2">View PDF</font></a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="g1028627" name="g1028627"></a><a id="i1018518" name="i1018518"></a>
<h1><span class="secnum">D</span> Converting to Real Application Clusters from Single-Instance Oracle Databases</h1>
<p><a id="sthref732" name="sthref732"></a><a id="sthref733" name="sthref733"></a>This chapter describes the procedures for converting from Oracle Database 10<span class="italic">g</span> single-instance databases to Real Application Clusters (RAC) databases. The topics in this appendix are:</p>
<ul>
<li type="disc">
<p><a href="#i1023596">Prerequisites for Conversion</a></p>
</li>
<li type="disc">
<p><a href="#i1024126">Single-Instance to Cluster-Enabled Conversion Administrative Issues</a></p>
</li>
<li type="disc">
<p><a href="#i1023586">Converting from Single-Instance to Real Application Clusters</a></p>
</li>
<li type="disc">
<p><a href="#i1024256">Post-Conversion Steps</a></p>
</li>
</ul>
<p>If you are upgrading from Oracle Parallel Server to RAC or from an earlier version of RAC, then use the Database Upgrade Assistant (DBUA). In other words, the procedures in this chapter assume that your original single-instance database and the target RAC database are the same version of Oracle 10<span class="italic">g,</span> and running on the same platform.</p>
<div align="center">
<div class="inftblNoteAlso"><br />
<table class="NoteAlso oac_no_warn" summary="This is a layout table to format a tip" title="This is a layout table to format a tip" dir="ltr" border="1" width="80%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td align="left">
<p class="notep1">See Also:</p>
Database Licensing Information to understand the restrictions of your license. You must comply with the restrictions of the license you have purchased.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblNoteAlso --></div>
<a id="i1023596" name="i1023596"></a>
<div class="sect1"><a id="sthref734" name="sthref734"></a>
<h2><span class="secnum">D.1</span> Prerequisites for Conversion</h2>
<p>Your system must meet the following hardware and software requirements to convert to RAC:</p>
<ul>
<li type="disc">
<p>A supported hardware and operating system software configuration</p>
</li>
<li type="disc">
<p>Use OCFS or shared disks</p>
</li>
<li type="disc">
<p>Before converting your database, refer to the <span class="italic">Oracle Database Licensing Information</span> manual to understand the scope of your license.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1024126" name="i1024126"></a>
<div class="sect1"><a id="sthref735" name="sthref735"></a>
<h2><span class="secnum">D.2</span> Single-Instance to Cluster-Enabled Conversion Administrative Issues</h2>
<p>Note the following <a id="sthref736" name="sthref736"></a>administrative considerations before conversion:</p>
<ul>
<li type="disc">
<p>B<a id="sthref737" name="sthref737"></a>ackup procedures should be available before converting from a single-instance Oracle database to RAC.</p>
</li>
<li type="disc">
<p>Additional <a id="sthref738" name="sthref738"></a>archiving considerations apply in RAC environments. In particular, the archive file format requires a thread number. In addition, the archived logs from all instances of a RAC database are required for media recovery. If you archive to a file and you do not use a cluster file system, then a method of accessing the archive logs from all nodes on which the cluster database has instances is required where file systems are not shared.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1023586" name="i1023586"></a>
<div class="sect1"><a id="sthref739" name="sthref739"></a>
<h2><span class="secnum">D.3</span> Converting from Single-Instance to Real Application Clusters</h2>
<p>To convert from single-instance Oracle databases to RAC, Oracle strongly recommends that you use the Database Configuration Assistant (DBCA). This is because DBCA automates the configuration of the control file attributes, creates the undo tablespaces and the redo logs, and makes the initialization parameter file entries for cluster-enabled environments. It also configures the Oracle Net Services, Oracle Clusterware resources, and the configuration for RAC database management for use by Oracle Enterprise Manager or the SRVCTL utility. This section describes the following scenarios:</p>
<ul>
<li type="disc">
<p><a href="#i1021574">Single Instance on a Non-Cluster computer to Oracle Database 10<span class="italic">g</span> with RAC</a></p>
</li>
<li type="disc">
<p><a href="#i1021578">Single Instance on a Cluster to Oracle Database 10<span class="italic">g</span> RAC</a></p>
</li>
</ul>
<a id="i1021574" name="i1021574"></a>
<div class="sect2"><a id="sthref740" name="sthref740"></a>
<h3><span class="secnum">D.3.1</span> Single Instance on a Non-Cluster computer to Oracle Database 10<span class="italic">g</span> with RAC</h3>
<p>To convert from a single-instance Oracle database that is on a <a id="sthref741" name="sthref741"></a>non-cluster computer to RAC, perform the procedures described under the following headings in the order shown:</p>
<ul>
<li type="disc">
<p><a href="#i1022976">Back up the Original Single-Instance Database</a></p>
</li>
<li type="disc">
<p><a href="#i1022983">Perform the Pre-Installation Steps</a></p>
</li>
<li type="disc">
<p><a href="#CHDJIBFB">Set up the Cluster</a></p>
</li>
<li type="disc">
<p><a href="#i1023693">Copy the Preconfigured Database Image</a></p>
</li>
<li type="disc">
<p><a href="#i1022995">Install Oracle Database 10<span class="italic">g</span> Software with Real Application Clusters</a></p>
</li>
</ul>
<a id="i1022976" name="i1022976"></a>
<div class="sect3"><a id="sthref742" name="sthref742"></a>
<h4><span class="secnum">D.3.1.1</span> Back up the Original Single-Instance Database</h4>
<p>Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:</p>
<ol type="1" start="1">
<li>
<p>Navigate to the bin directory in ORACLE_HOME, and start DBCA.</p>
</li>
<li>
<p>At the Welcome page, click <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Operations page, select <span class="bold">Manage Templates</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Template Management page, select <span class="bold">Create a database template</span> and <span class="bold">From an existing database (structure as well as data)</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Source Database page, enter the SID prefix in the <span class="bold">Database instance</span> field, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Template Properties page, enter a name for your template in the <span class="bold">Name</span> field. Oracle recommends that you use the database name.</p>
<p>By default, the template files are generated in the directory <code>%ORACLE_HOME%\assistants\dbca\templates</code> directory on Windows-based systems. If you choose to do so, you can enter a description of the file in the <span class="bold">Description</span> field, and change the template file location in the <span class="bold">Template datafile</span> field.</p>
<p>When you have completed entries, click <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Location of Database Related Files page, select <span class="bold">Maintain the file locations</span>, so that you can restore the database to the current directory structure, and click <span class="bold">Finish</span>.</p>
</li>
</ol>
<p>DBCA generates two files: a database structure file (<code><span class="codeinlineitalic">template_name</span></code><code>.dbc</code>), and a database preconfigured image file (<code><span class="codeinlineitalic">template_name</span></code><code>.dfb</code>).</p>
</div>
<!-- class="sect3" -->
<a id="i1022983" name="i1022983"></a>
<div class="sect3"><a id="sthref743" name="sthref743"></a>
<h4><span class="secnum">D.3.1.2</span> Perform the Pre-Installation Steps</h4>
<p>Perform the pre-installation steps as documented in chapters <a href="prewin.htm#BCFHFECH">Chapter 2, "Server and Network Pre-Installation Tasks"</a>and <a href="storage.htm#CDECEBGH">Chapter 3, "Storage Pre-Installation Tasks"</a>in <a href="part2.htm#CHDGFBJF">Part II</a> of this book.</p>
<div class="inftblNoteAlso"><br />
<table class="NoteAlso oac_no_warn" summary="This is a layout table to format a tip" title="This is a layout table to format a tip" dir="ltr" border="1" width="80%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td align="left">
<p class="notep1">See Also:</p>
Storage vendor-specific documentation for setting up the shared disk subsystem and for information about how to mirror and stripe disks</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblNoteAlso --></div>
<!-- class="sect3" -->
<a id="CHDJIBFB" name="CHDJIBFB"></a>
<div class="sect3"><!-- infolevel=all infotype=General --><a id="sthref744" name="sthref744"></a>
<h4><span class="secnum">D.3.1.3</span> Set up the Cluster</h4>
<p>Form a cluster with the required number of nodes according to your hardware vendor's documentation. When you have configured all of the nodes in your cluster, either with or without vendor clusterware, then install Oracle Clusterware and validate cluster components by referring to the procedures in <a href="crswin.htm#BABCHCED">Chapter 4, "Installing Oracle Clusterware on Windows-Based Systems"</a>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel=all infotype=General --><a id="sthref745" name="sthref745"></a>
<h4><span class="secnum">D.3.1.4</span> Validate the Cluster</h4>
<p>Validate the cluster configuration using the Cluster Verification Utility, as described in <a href="racinstl.htm#CIHHEHBF">Chapter 5, "Installing Oracle Database 10<span class="italic">g</span> with Real Application Clusters"</a>.</p>
</div>
<!-- class="sect3" -->
<a id="i1023693" name="i1023693"></a>
<div class="sect3"><a id="sthref746" name="sthref746"></a>
<h4><span class="secnum">D.3.1.5</span> Copy the Preconfigured Database Image</h4>
<p>Copy the preconfigured database image. This includes copying the database structure <code>*.dbc</code> file and the database preconfigured image <code>*.dfb</code> file that DBCA created in the previous procedure <a href="#i1022976">"Back up the Original Single-Instance Database"</a> to a temporary location on the node in the cluster from which you plan to run DBCA.</p>
</div>
<!-- class="sect3" -->
<a id="i1022995" name="i1022995"></a>
<div class="sect3"><a id="sthref747" name="sthref747"></a>
<h4><span class="secnum">D.3.1.6</span> Install Oracle Database 10<span class="italic">g</span> Software with Real Application Clusters</h4>
<ol type="1" start="1">
<li>
<p>Run the Oracle Universal Installer (OUI) to perform an Oracle installation with the Oracle 10<span class="italic">g</span> Database with RAC.</p>
</li>
<li>
<p>Select Cluster Installation Mode on the Specify Hardware Cluster Installation page of the Oracle Universal Installer (OUI) and select the nodes to include in your RAC database.</p>
</li>
<li>
<p>On the OUI Database Configuration Types page, select the Advanced install type.</p>
<p>After installing the Oracle software, the OUI runs post-installation configuration tools, such as the Network Configuration Assistant (NetCA), DBCA, and so on.</p>
</li>
<li>
<p>On the DBCA Template Selection page, use the template that you copied to a temporary location in the <a href="#i1023693">"Copy the Preconfigured Database Image"</a> procedure. Use the browse option to select the template location.</p>
</li>
<li>
<p>If you selected raw storage on the OUI Storage Options page, then on the DBCA File Locations Tab on the Initialization Parameters page, replace the data files, control files, and log files, and so on, with the corresponding raw device files if you have not setup the <code>DBCA_RAW_CONFIG</code> environment variable. You must also replace default database files with raw devices on the Storage page.</p>
<div class="inftblNoteAlso"><br />
<table class="NoteAlso oac_no_warn" summary="This is a layout table to format a tip" title="This is a layout table to format a tip" dir="ltr" border="1" width="80%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td align="left">
<p class="notep1">See Also:</p>
<a href="dbcacrea.htm#BGBIJGDA">Chapter 6, "Creating RAC Databases with the Database Configuration Assistant"</a> for more details about DBCA</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblNoteAlso --></li>
<li>
<p>After creating the RAC database, DBCA displays the Password Management page on which you must change the passwords for database privileged users who have <code>SYSDBA</code> and <code>SYSOPER</code> roles. When DBCA exits, the conversion process is complete.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1021578" name="i1021578"></a>
<div class="sect2"><a id="sthref748" name="sthref748"></a>
<h3><span class="secnum">D.3.2</span> Single Instance on a Cluster to Oracle Database 10<span class="italic">g</span> RAC<a id="sthref749" name="sthref749"></a></h3>
<p>Use the following procedures to convert your single-instance database on a cluster computer to RAC for all of these scenarios.</p>
<a id="i1023499" name="i1023499"></a>
<div class="sect3"><a id="sthref750" name="sthref750"></a>
<h4><span class="secnum">D.3.2.1</span> Single Instance on a Cluster Running from a Cluster Enabled Oracle Home</h4>
<p>Perform the following procedures to convert a single-instance database on a cluster running from a cluster-installed (Oracle Database 10<span class="italic">g</span> with RAC) Oracle home.</p>
<a id="i1023043" name="i1023043"></a>
<ol type="1" start="1">
<li><a id="BABECBJF" name="BABECBJF"></a>
<p>Use DBCA to create a preconfigured image of your single-instance database as described under the heading <a href="#i1022976">"Back up the Original Single-Instance Database"</a>. To perform the conversion manually, shut down the single-instance database.</p>
</li>
<li><a id="i1023529" name="i1023529"></a>
<p>To add nodes to your cluster, add and connect these nodes to the cluster as described under the heading <a href="#i1022983">"Perform the Pre-Installation Steps"</a>. Ensure that all of these nodes can access the shared storage. Also extend the Oracle Clusterware home to the new nodes using the procedures for "Extending Clusterware and Oracle Software to New Nodes" as described in <span class="italic">Oracle Database Oracle Clusterware and Oracle Real Application Clusters Administration and Deployment Guide</span>.</p>
</li>
<li>
<p>From the existing Oracle home, extend this home to the new nodes using the procedure "Adding Nodes at the Oracle RAC Database Layer" as described in <span class="italic">Oracle Database Oracle Clusterware and Oracle Real Application Clusters Administration and Deployment Guide</span>.</p>
</li>
<li>
<p>From one of the newly added nodes, configure the listeners on the additional nodes using the NetCA. Choose the same port number and protocol that you used on the existing node. If the NetCA displays the existing node in the node list page, then do not select this node, because the listener is already configured on it.</p>
</li>
<li>
<p>Convert the database using one of the following procedures:</p>
<ul>
<li type="disc">
<p><a href="#BABICEAB">Automated Conversion Procedure</a></p>
</li>
<li type="disc">
<p><a href="#BABIGIJA">Manual Conversion Procedure</a></p>
</li>
</ul>
</li>
</ol>
<a id="BABICEAB" name="BABICEAB"></a>
<div class="sect4"><!-- infolevel=all infotype=General --><a id="sthref751" name="sthref751"></a>
<h5><span class="secnum">D.3.2.1.1</span> Automated Conversion Procedure</h5>
<p>If you created the preconfigured image of the single instance database as described under the heading <a href="#i1022976">"Back up the Original Single-Instance Database"</a>, then use DBCA to complete the conversion to a RAC database by completing the following steps:</p>
<ol type="1" start="1">
<li>
<p>Start DBCA from the initial node. Select the names of the nodes that you want to include as part of your cluster database. On the Template Selection page, select the preconfigured template that you created in Step <a href="#i1023043">0</a>. Enter the database name and respond to the remaining DBCA prompts.</p>
</li>
<li><a id="i1021974" name="i1021974"></a>
<p>To use raw devices for the cluster database files: When the Initialization Parameters page appears, enter the raw device name for the SPFILE on the File Locations tab. On the Storage page, replace the default database file names with the raw devices for the control files, redo logs, and datafiles to create the cluster database. Click <span class="bold">Finish,</span> and create the database.</p>
</li>
</ol>
<p>After creating the RAC database, DBCA displays the Password Management page on which you must change the passwords for the database privileged users who have <code>SYSDBA</code> and <code>SYSOPER</code> roles. When DBCA exits, the conversion process is complete.</p>
</div>
<!-- class="sect4" -->
<a id="BABIGIJA" name="BABIGIJA"></a>
<div class="sect4"><!-- infolevel=all infotype=General --><a id="sthref752" name="sthref752"></a>
<h5><span class="secnum">D.3.2.1.2</span> Manual Conversion Procedure</h5>
<p>If you did not use DBCA to create a preconfigured image of your single-instance database in Step <a href="#i1023043">0</a>, then perform the following steps to complete the conversion:</p>
<a id="i1021981" name="i1021981"></a>
<ol type="1" start="1">
<li>
<p>Create the OFA directory structure on each of the nodes that you have added.</p>
<div class="inftblNoteAlso"><br />
<table class="NoteAlso oac_no_warn" summary="This is a layout table to format a tip" title="This is a layout table to format a tip" dir="ltr" border="1" width="80%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td align="left">
<p class="notep1">See Also:</p>
<a href="apa.htm#CDEBGDHG">"Directory Structures for Real Application Clusters"</a> for more information about OFA.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblNoteAlso --></li>
<li>
<p>If you are converting single-instance database files on a file system to raw devices, then copy the database datafiles, control files, redo logs, and server parameter file to their corresponding raw devices using the <code>OCOPY</code> command on Windows-based systems. Otherwise, continue to the next step.</p>
</li>
<li>
<p>Re-create the control files by running the <code>CREATE CONTROLFILE</code> SQL statement with the <code>REUSE</code> keyword and specify <code>MAXINSTANCES</code> and <code>MAXLOGFILES</code>, and so on, as needed for your RAC configuration. The <code>MAXINSTANCES</code> recommended default is 32.</p>
</li>
<li>
<p>Shut down the database instance.</p>
</li>
<li><a id="i1023936" name="i1023936"></a>
<p>If your single-instance database was using an SPFILE parameter file, then create a temporary PFILE from the SPFILE using the following SQL statement:</p>
<pre xml:space="preserve" class="oac_no_warn">CREATE PFILE='pfile_name' from spfile='spfile_name'

</pre></li>
<li>
<p>Set the <code>CLUSTER_DATABASE</code> parameter to <code>TRUE</code>, set the <code>INSTANCE_NUMBER</code> parameter to a unique value for each instance, using a <code><span class="codeinlineitalic">sid</span></code><code>.</code><code><span class="codeinlineitalic">parameter</span></code><code>=</code><code><span class="codeinlineitalic">value</span></code> syntax.</p>
<p>If you optimized memory usage on your single-instance database, then adjust the size of the SGA to avoid swapping and paging when you convert to RAC. you should make this adjustment because RAC requires about 350 bytes for each buffer to accommodate the Global Cache Service (GCS). For example, if you have 10,000 buffers, then RAC requires about 350*10,000 bytes more memory. Therefore, adjust the size of the SGA by changing the <code>DB_CACHE_SIZE</code> and <code>DB_nK_CACHE_SIZE</code> parameters accordingly.</p>
</li>
<li>
<p>Start up the database instance using the PFILE created in step <a href="#i1023936">5</a>.</p>
</li>
<li>
<p>If your single-instance database was using automatic undo management, then create an undo tablespace for each additional instance using the <code>CREATE UNDO TABLESPACE</code> SQL statement. If you are using raw devices, then ensure that the datafile for the undo tablespace is on the raw device.</p>
</li>
<li>
<p>Create redo threads that have at least two redo logs for each additional instance. If you are using raw devices, then ensure that the redo log files are on raw devices. Enable the new redo threads by using an <code>ALTER DATABASE</code> SQL statement. Then shutdown the database instance.</p>
</li>
<li>
<p>Copy the Oracle password file from the initial node, or from the node from which you are working, to the corresponding location on the additional nodes on which the cluster database will have an instance. Make sure that you replace the <code>ORACLE_SID</code> name in each password file appropriately for each additional instance.</p>
</li>
<li>
<p>Add <code>REMOTE_LISTENERS=LISTENERS_</code><code><span class="codeinlineitalic">DB_NAME</span></code> and <code><span class="codeinlineitalic">sid</span></code><code>.LOCAL_LISTENER=LISTENER_</code><code><span class="codeinlineitalic">SID</span></code> parameters to the PFILE.</p>
</li>
<li>
<p>Configure the net service entries for the database and instances and address entries for the <code>LOCAL_LISTENER</code> for each instance and <code>REMOTE_LISTENERS</code> in the <code>tnsnames.ora</code> file and copy it to all nodes.</p>
</li>
<li>
<p>Create the SPFILE from the PFILE. If you are not using a cluster file system, then ensure that the SPFILE is on a raw device.</p>
</li>
<li>
<p>Create the <code>%ORACLE_HOME%\database\initSID.ora</code> file on Windows-based systems that contains the following entry:</p>
<pre xml:space="preserve" class="oac_no_warn">spfile=<span class="italic">'spfile_path_name</span>'

</pre>
<p>where <code><span class="codeinlineitalic">spfile_path_name</span></code> is the complete path name of the SPFILE.</p>
</li>
<li>
<p>Add the configuration for the RAC database and its instance-to-node mapping using SRVCTL.</p>
</li>
<li>
<p>Start the RAC database using SRVCTL.</p>
</li>
</ol>
<p>After starting the database with SRVCTL, your conversion process is complete and, for example, you can run the following SQL statement to see the statuses of all the instances in your RAC database:</p>
<pre xml:space="preserve" class="oac_no_warn">select * from gv$active_instances

</pre></div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1024256" name="i1024256"></a>
<div class="sect1"><a id="sthref753" name="sthref753"></a>
<h2><span class="secnum">D.4</span> Post-Conversion Steps</h2>
<p>After completing the <a id="sthref754" name="sthref754"></a>conversion, note the following recommendations for RAC environments, as described in the RAC documentation:</p>
<ul>
<li type="disc">
<p>Follow the recommendations for using load balancing and Transparent Application Failover as described in the <span class="italic">Oracle Database Oracle Clusterware and Oracle Real Application Clusters Administration and Deployment Guide</span></p>
</li>
<li type="disc">
<p>Use locally managed tablespaces instead of dictionary managed tablespaces to reduce contention and manage sequences in RAC as described in the <span class="italic">Oracle Real Application Clusters Deployment and Performance Guide</span></p>
</li>
<li type="disc">
<p>Follow the guidelines for configuring an interconnect, for using automatic segment space management, and for using SRVCTL to administer multiple instances, as described in the <span class="italic">Oracle Database Oracle Clusterware and Oracle Real Application Clusters Administration and Deployment Guide</span></p>
</li>
</ul>
<p>The buffer cache and shared pool capacity requirements in RAC are slightly greater than the requirements for single-instance Oracle databases. Therefore, you should increase the size of the buffer cache by about 10% and the size of the shared pool by about 15%.</p>
</div>
<!-- class="sect1" --></div>
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td style="width: 33%;" align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" align="left" width="98">
<tr>
<td align="center" valign="top"><a href="rawdev.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" border="0" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="apa.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" border="0" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="width: 34%;" align="center" class="copyrightlogo"><img src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
<a href="../../dcommon/html/cpyr.htm"><font size="-2">Copyright&nbsp;&copy;&nbsp;2005,&nbsp;Oracle.&nbsp;All&nbsp;rights&nbsp;reserved.</font></a></td>
<td style="width: 33%;" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" border="0" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" border="0" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" border="0" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img src="../../dcommon/gifs/index.gif" alt="Go to Index" border="0" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" border="0" /><br />
<span class="icon">Feedback</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</body>
</html>
